.row
  .col-md-12
    = link_to 'New Issue', new_project_issue_path(@project.id), class: 'btn btn-primary'
.row.no-gutters
  .col-md-3.col
    %h2.text-center
      Backlog
    %ul.backlog.column.sortable.list-unstyled
      - @backlog.each do |issue|
        %li.panel.panel-default.backlog{ data: { owner: @project.user.nickname,
                                                 repo: @project.name,
                                                 number: issue.number } }
          .panel-heading
            %h3.panel-title
              = issue.title
              .issue.pull-right
                \##{issue.number}
            =form_tag update_issue_path(@project.user.nickname, @project.name, issue.number), class: "form", id: "issue-form-#{issue.number}", method: :patch do
              .panel-heading
                %h3.panel-title
                  =text_field_tag :title, issue.title, rows: 1, class: "form-control"
                  .issue.pull-right
                    \##{issue.number}
              .panel-body
                =text_area_tag :body, issue.body, { rows: 5, class: "form-control noscrollbars", :onkeyup => "autoGrow(this);"}
                =hidden_field_tag :labels, issue.labels.map { |label| label.name}
                =hidden_field_tag :project_id, @project.id
                %button.btn.pull-right.btn-default.btn-xs.issue-btn{:type => "submit"} Update
          .panel-footer
            .clearfix
              .row
                .col-md-12
                  .clearfix
                    .dropup
                      %button.dropup-btn.btn.btn-xs.btn-default.dropdown-toggle{ "id" => "dropup-#{issue.number}", "aria-expanded" => "true", "aria-haspopup" => "true", "data-toggle" => "dropdown", :type => "button"}
                        Dropup
                        %span.caret
                      %ul.dropdown-menu.issue-dropup-menu{"aria-labelledby" => "dropup-#{issue.number}" }
                        %li
                          %a{:href => "#"} Action

  .col-md-3.col
    %h2.text-center
      Ready
    %ul.ready.column.sortable.list-unstyled
      - @ready.each do |issue|
        %li.panel.panel-default.ready{ data: { owner: @project.user.nickname,
                                               repo: @project.name,
                                               number: issue.number } }
          .panel-heading
            %h3.panel-title
              = issue.title
              .issue.pull-right
                \##{issue.number}
            =form_tag update_issue_path(@project.user.nickname, @project.name, issue.number), class: "form", id: "issue-form-#{issue.number}", method: :patch do
              .panel-heading
                %h3.panel-title
                  =text_field_tag :title, issue.title, rows: 1, class: "form-control"
                  .issue.pull-right
                    \##{issue.number}
              .panel-body
                =text_area_tag :body, issue.body, { rows: 5, class: "form-control noscrollbars", :onkeyup => "autoGrow(this);"}
                =hidden_field_tag :labels, issue.labels.map { |label| label.name}
                =hidden_field_tag :project_id, @project.id
                %button.btn.pull-right.btn-default.btn-xs.issue-btn{:type => "submit"} Update
          .panel-footer
            .clearfix
              .row
                .col-md-12
                  .clearfix
                    .dropup
                      %button.dropup-btn.btn.btn-xs.btn-default.dropdown-toggle{ "id" => "dropup-#{issue.number}", "aria-expanded" => "true", "aria-haspopup" => "true", "data-toggle" => "dropdown", :type => "button"}
                        Dropup
                        %span.caret
                      %ul.dropdown-menu.issue-dropup-menu{"aria-labelledby" => "dropup-#{issue.number}" }
                        %li
                          %a{:href => "#"} Action
  .col-md-3.col
    %h2.text-center
      In Progress
    %ul.in-progress.column.sortable.list-unstyled
      - @in_progress.each do |issue|
        %li.panel.panel-default.in-progress{ data: { owner: @project.user.nickname,
                                  repo: @project.name,
                                  number: issue.number } }
          .panel-heading
            %h3.panel-title
              = issue.title
              .issue.pull-right
                \##{issue.number}
            =form_tag update_issue_path(@project.user.nickname, @project.name, issue.number), class: "form", id: "issue-form-#{issue.number}", method: :patch do
              .panel-heading
                %h3.panel-title
                  =text_field_tag :title, issue.title, rows: 1, class: "form-control"
                  .issue.pull-right
                    \##{issue.number}
              .panel-body
                =text_area_tag :body, issue.body, { rows: 5, class: "form-control noscrollbars", :onkeyup => "autoGrow(this);"}
                =hidden_field_tag :labels, issue.labels.map { |label| label.name}
                =hidden_field_tag :project_id, @project.id
                %button.btn.pull-right.btn-default.btn-xs.issue-btn{:type => "submit"} Update
          .panel-footer
            .clearfix
              .row
                .col-md-12
                  .clearfix
                    .dropup
                      %button.dropup-btn.btn.btn-xs.btn-default.dropdown-toggle{ "id" => "dropup-#{issue.number}", "aria-expanded" => "true", "aria-haspopup" => "true", "data-toggle" => "dropdown", :type => "button"}
                        Dropup
                        %span.caret
                      %ul.dropdown-menu.issue-dropup-menu{"aria-labelledby" => "dropup-#{issue.number}" }
                        %li
                          %a{:href => "#"} Action
  .col-md-3.col
    %h2.text-center
      completed
    %ul.completed.column.sortable.list-unstyled
      - @completed.each do |issue|
        %li.panel.panel-default.completed{ data: { owner: @project.user.nickname,
                                  repo: @project.name,
                                  number: issue.number } }
          .panel-heading
            %h3.panel-title
              = issue.title
              .issue.pull-right
                \##{issue.number}
            =form_tag update_issue_path(@project.user.nickname, @project.name, issue.number), class: "form", id: "issue-form-#{issue.number}", method: :patch do
              .panel-heading
                %h3.panel-title
                  =text_field_tag :title, issue.title, rows: 1, class: "form-control"
                  .issue.pull-right
                    \##{issue.number}
              .panel-body
                =text_area_tag :body, issue.body, { rows: 5, class: "form-control noscrollbars", :onkeyup => "autoGrow(this);"}
                =hidden_field_tag :labels, issue.labels.map { |label| label.name}
                =hidden_field_tag :project_id, @project.id
                %button.btn.pull-right.btn-default.btn-xs.issue-btn{:type => "submit"} Update
          .panel-footer
            .clearfix
              .row
                .col-md-12
                  .clearfix
                    .dropup
                      %button.dropup-btn.btn.btn-xs.btn-default.dropdown-toggle{ "id" => "dropup-#{issue.number}", "aria-expanded" => "true", "aria-haspopup" => "true", "data-toggle" => "dropdown", :type => "button"}
                        Dropup
                        %span.caret
                      %ul.dropdown-menu.issue-dropup-menu{"aria-labelledby" => "dropup-#{issue.number}" }
                        %li
                          %a{:href => "#"} Action
